<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" integrity="sha256-jTIdiMuX/e3DGJUGwl3pKSxuc6YOuqtJYkM0bGQESA4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"datahonor.com","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.10.1","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":"ture"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="十年饮冰，难凉热血。">
<meta property="og:type" content="website">
<meta property="og:title" content="DATA HONOR">
<meta property="og:url" content="http://datahonor.com/archives/page/14/index.html">
<meta property="og:site_name" content="DATA HONOR">
<meta property="og:description" content="十年饮冰，难凉热血。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Mathew Shen">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://datahonor.com/archives/page/14/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"archives/page/14/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>DATA HONOR</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">DATA HONOR</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Pain Is Inevitable; Suffering Is Optional</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Mathew Shen"
      src="https://avatars2.githubusercontent.com/u/17157965?v=3&u=1787d5d04d50967c7825062bfff705ee584ae2b2&s=400">
  <p class="site-author-name" itemprop="name">Mathew Shen</p>
  <div class="site-description" itemprop="description">十年饮冰，难凉热血。</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">65</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/shenxiangzhuang" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;shenxiangzhuang" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:datahonor@gmail.com" title="E-Mail → mailto:datahonor@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://yuanhang0.github.io/" title="https:&#x2F;&#x2F;yuanhang0.github.io&#x2F;" rel="noopener" target="_blank">Tomorrow</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://yudaer.github.io/" title="http:&#x2F;&#x2F;yudaer.github.io&#x2F;" rel="noopener" target="_blank">小白二号</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://datahonor.com/2017/04/03/Opencv%E5%88%B6%E4%BD%9C%E7%AE%80%E6%98%93%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/17157965?v=3&u=1787d5d04d50967c7825062bfff705ee584ae2b2&s=400">
      <meta itemprop="name" content="Mathew Shen">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DATA HONOR">
      <meta itemprop="description" content="十年饮冰，难凉热血。">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DATA HONOR">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/04/03/Opencv%E5%88%B6%E4%BD%9C%E7%AE%80%E6%98%93%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/" class="post-title-link" itemprop="url">Learning Opencv3学习笔记--制作简易视频播放器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-04-03 23:47:43" itemprop="dateCreated datePublished" datetime="2017-04-03T23:47:43+08:00">2017-04-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-03-13 12:35:03" itemprop="dateModified" datetime="2022-03-13T12:35:03+08:00">2022-03-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Cpp/" itemprop="url" rel="index"><span itemprop="name">Cpp</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/2017/04/03/Opencv%E5%88%B6%E4%BD%9C%E7%AE%80%E6%98%93%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/04/03/Opencv%E5%88%B6%E4%BD%9C%E7%AE%80%E6%98%93%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><em>Learning Opencv3</em>上面的的一个代码，第一次看的时候基本没看懂，这次大概看懂了。这里先贴上代码，再来简单解释下代码流程。</p>
<h5 id="代码-2">代码</h5>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;opencv2/highgui/highgui.hpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;opencv2/imgproc/imgproc.hpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> g_slider_position = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> g_run = <span class="number">1</span>, g_dontset = <span class="number">0</span>;</span><br><span class="line">cv::VideoCapture g_cap;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">onTrackbarSlide</span><span class="params">(<span class="type">int</span> pos, <span class="type">void</span>*)</span></span>&#123;</span><br><span class="line">    g_cap.<span class="built_in">set</span>(cv::CAP_PROP_POS_FRAMES, pos);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!g_dontset)</span><br><span class="line">        g_run = <span class="number">1</span>;</span><br><span class="line">    g_dontset = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cv::<span class="built_in">namedWindow</span>(<span class="string">&quot;Example&quot;</span>, cv::WINDOW_AUTOSIZE);</span><br><span class="line">    g_cap.<span class="built_in">open</span>(<span class="string">&quot;/home/shensir/Documents/MyPrograming/Cpp/Clions/data/sampvideo.ogv&quot;</span>);</span><br><span class="line">    <span class="type">int</span> frames = (<span class="type">int</span>) g_cap.<span class="built_in">get</span>(cv::CAP_PROP_FRAME_COUNT);</span><br><span class="line">    <span class="type">int</span> tmpw = (<span class="type">int</span>) g_cap.<span class="built_in">get</span>(cv::CAP_PROP_FRAME_WIDTH);</span><br><span class="line">    <span class="type">int</span> tmph = (<span class="type">int</span>) g_cap.<span class="built_in">get</span>(cv::CAP_PROP_FRAME_HEIGHT);</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Video has &quot;</span>&lt;&lt;frames&lt;&lt;<span class="string">&quot; frames of dimensions(&quot;</span>&lt;&lt;tmpw&lt;&lt;<span class="string">&quot;, &quot;</span>&lt;&lt;tmph&lt;&lt;<span class="string">&quot;).&quot;</span>&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    cv::<span class="built_in">createTrackbar</span>(<span class="string">&quot;Position&quot;</span>,	<span class="string">&quot;Example&quot;</span>,	&amp;g_slider_position,	frames,</span><br><span class="line">                       onTrackbarSlide);</span><br><span class="line"></span><br><span class="line">    cv::Mat frame;</span><br><span class="line">    <span class="keyword">for</span>(;;)&#123;</span><br><span class="line">        <span class="keyword">if</span>(g_run != <span class="number">0</span>)&#123;</span><br><span class="line">            g_cap&gt;&gt;frame; <span class="keyword">if</span>(frame.<span class="built_in">empty</span>()) <span class="keyword">break</span>;</span><br><span class="line">            <span class="type">int</span> current_pos = (<span class="type">int</span>) g_cap.<span class="built_in">get</span>(cv::CAP_PROP_POS_FRAMES);</span><br><span class="line"></span><br><span class="line">            g_dontset = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            cv::<span class="built_in">setTrackbarPos</span>(<span class="string">&quot;Position&quot;</span>, <span class="string">&quot;Example&quot;</span>, current_pos);</span><br><span class="line">            cv::<span class="built_in">imshow</span>(<span class="string">&quot;Example&quot;</span>, frame);</span><br><span class="line"></span><br><span class="line">            g_run -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">char</span> c = (<span class="type">char</span>) <span class="built_in">cvWaitKey</span>(<span class="number">10</span>);</span><br><span class="line">        <span class="keyword">if</span>(c == <span class="string">&#x27;s&#x27;</span>) <span class="comment">// single step</span></span><br><span class="line">            &#123;g_run =<span class="number">1</span>; cout&lt;&lt;<span class="string">&quot;single step, run = &quot;</span>&lt;&lt;g_run&lt;&lt;endl;&#125;</span><br><span class="line">        <span class="keyword">if</span>(c == <span class="string">&#x27;r&#x27;</span>)  <span class="comment">// run mode</span></span><br><span class="line">            &#123;g_run = <span class="number">-1</span>; cout&lt;&lt;<span class="string">&quot;Run mode, run = &quot;</span>&lt;&lt;g_run&lt;&lt;endl;&#125;</span><br><span class="line">        <span class="keyword">if</span>(c == <span class="number">27</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="简单解释">简单解释</h5>
<p>重要参数解释：</p>
<blockquote>
<p>g_slider_position，进度条位置</p>
<p>g_run，控制视频播放模式，为正数[如5]时，表示距离视频暂停还有几个[这里是5个]frame将输出到屏幕，这里g_run为正数大都是1，故为step即但不模式； 当为负数时，将一直播放下去，因为g_run -=1的存在使得g_run一直为负。</p>
<p>g_dontest,为了鼠标点击进度条的动作而设计的参数。使得点击进度条后，自动进入step模式。</p>
<p>createTrackbar( TrackbarName, “Linear Blend”, &amp;alpha_slider, alpha_slider_max, on_trackbar );Whenever the user moves the Trackbar, the callback function on_trackbar is called</p>
</blockquote>
<p>运行流程：</p>
<blockquote>
<p>开始时g_slider_position为0,在main函数中输出到frame，后show，这个过程中，g_dontset被设置为1，使得在不进行<em>点击以移动进度条</em>动作时，进度条不会被重置到新的指定的位置,且g_dontset将一直被从0重置为1.此时，如果在cvWaitKey的10ms[图片显示时间]，按下‘s’则，按照前面参数说明，在播放一帧之后，视频将暂停；按下’r’，则g_run将由-1递减下去，一直为负，视频一直进行下去。若是此时点击移动进度条，则在g_dontset = 1之前[这时g_dontset=0]调用回调函数onTrackbarSlide，使得g_cap的位置被指定为当前帧的位置，接着g_run = 1， 进入单步模式，接着将show当前帧的画面和他的下一帧画面后进入暂停模式。</p>
</blockquote>
<p>个人理解，错误之处请指正。</p>

          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/04/03/Opencv%E5%88%B6%E4%BD%9C%E7%AE%80%E6%98%93%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://datahonor.com/2017/03/30/%E6%88%91%EF%BC%8CArch%E5%92%8CUbuntu%E7%9A%84%E6%95%85%E4%BA%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/17157965?v=3&u=1787d5d04d50967c7825062bfff705ee584ae2b2&s=400">
      <meta itemprop="name" content="Mathew Shen">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DATA HONOR">
      <meta itemprop="description" content="十年饮冰，难凉热血。">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DATA HONOR">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/03/30/%E6%88%91%EF%BC%8CArch%E5%92%8CUbuntu%E7%9A%84%E6%95%85%E4%BA%8B/" class="post-title-link" itemprop="url">我，Arch和Ubuntu的故事</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-03-30 22:52:24" itemprop="dateCreated datePublished" datetime="2017-03-30T22:52:24+08:00">2017-03-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-03-13 12:35:03" itemprop="dateModified" datetime="2022-03-13T12:35:03+08:00">2022-03-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/2017/03/30/%E6%88%91%EF%BC%8CArch%E5%92%8CUbuntu%E7%9A%84%E6%95%85%E4%BA%8B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/30/%E6%88%91%EF%BC%8CArch%E5%92%8CUbuntu%E7%9A%84%E6%95%85%E4%BA%8B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>最近几天，准确说是整整四天，一直在折腾系统，故事比较多…<br>
享受win &amp; Ubuntu16.04LTS双系统的时候，突然Ubuntu就无法登入，进入无线login的情况。各种谷歌查资料，无果。在编程群问，无果。</p>
<blockquote>
<p>这里犯下两个错误。<br>
1.在google不行的情况下，并没有尝试进行百度，或者其他搜索。[显然后面他们起了作用]。<br>
2.在编程群问，毕竟不是专门玩系统的，无果也是难免。</p>
</blockquote>
<p>随后，开始重装Ubuntu,撞了两次，都是可以进去，配置Python和Cpp等一系列的开发环境后，重启，一样进入无限login。[注意到当中出现命令提示，含有sd2 , clean, blocks这些词]<br>
失败告终。</p>
<blockquote>
<p>一个错误。<br>
再次遇见同样的错误，并没有去深入研究然后尝试解决它！[说好的探索精神呢…]</p>
</blockquote>
<p>万念俱灰之时，大佬介绍Arch,开始整。查些资料，一次就安装成功了。xfce4桌面，startx启动。<br>
之后再次配置环境，仍然出现[sd2, clean, blocks]这些提示，但是系统可以运行。换dde桌面（deepin），开启黑屏，发现壁纸是黑的，改变壁纸，完美运行，桌面环境很漂亮。配置环境，重启，黑屏，真的黑了。。。无解，重启，还是无法进入桌面…进tty,发现环境变量一团糟[这里是重点。。。]，继续配置已经没有可能…</p>
<p>被arch搞得巨伤…主要opencv，R也不好配置，滚回去再次尝试装Ubuntu。轻车熟路，装好重启，并未打开win10，进入grub的rescue模式，按照百度经验教程，一路ls (hd0,msdos6)/boot/grub，发现系统一道文件，在启动normal.mod，发现文件丢失。经玩系统的大佬指点，U盘安装微PE，进去PE后，DiskGenius重建MBR，成功进入win10!再easybcd引导Ubuntu,完成安装。再次进入Ubuntu,一样，配置环境之后重启，进入无限login，这时候…说实话，近乎崩溃了，毕竟四天了…</p>
<p>然而，还是没有放弃。。。喝口水，再来。</p>
<p>百度，转机出现，发现有人设置错了系统的环境变量进入无限login,回去tty看我的/home/.xession-error文件[过程中一样是一团糟的环境变量]，发现果然错了！现在找对了方向，于是进入/etc/profile，发现Anaconda的路径前面没有加export,而且路径格式不对…于是连同下面自己添加的java环境境变量一同注释，重启，搞定！</p>
<p>四天不眠不休的折腾[每天睡5个小时多点…]，确实很伤，但是也学到了很多知识。<br>
下面总结下：</p>
<p>系统相关：</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/03/30/%E6%88%91%EF%BC%8CArch%E5%92%8CUbuntu%E7%9A%84%E6%95%85%E4%BA%8B/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://datahonor.com/2017/03/25/typedef-define/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/17157965?v=3&u=1787d5d04d50967c7825062bfff705ee584ae2b2&s=400">
      <meta itemprop="name" content="Mathew Shen">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DATA HONOR">
      <meta itemprop="description" content="十年饮冰，难凉热血。">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DATA HONOR">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/03/25/typedef-define/" class="post-title-link" itemprop="url">typedef & #define</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-03-25 15:18:25" itemprop="dateCreated datePublished" datetime="2017-03-25T15:18:25+08:00">2017-03-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-03-13 12:35:03" itemprop="dateModified" datetime="2022-03-13T12:35:03+08:00">2022-03-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Cpp/" itemprop="url" rel="index"><span itemprop="name">Cpp</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/2017/03/25/typedef-define/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/25/typedef-define/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在c++里面，有两种方法为一个数据类型起一个别名，一个是通过预编译器(preprocessor)来替换文本实现，另一个是通过typedef来为类型起别名。<br>
一般情况下，而这均可以实现想要的效果</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">float</span>* float_pointer;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> FLOAT_POINTER float*</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">float</span> fv = <span class="number">1.0</span>;</span><br><span class="line">    float_pointer fp1;</span><br><span class="line">    fp1 = &amp;fv;</span><br><span class="line">    cout&lt;&lt;*fp1&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    FLOAT_POINTER FP1;</span><br><span class="line">    FP1 = &amp;fv;</span><br><span class="line">    cout&lt;&lt;*FP1&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<blockquote>
<p>1<br>
1</p>
</blockquote>
<p>然而，在<strong>同时为多个变量定义类型</strong>时，就会出现差别。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">float</span>* float_pointer;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> FLOAT_POINTER float*</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">float</span> fv = <span class="number">1.0</span>;</span><br><span class="line">    float_pointer fp1, fp2;</span><br><span class="line">    fp1 = &amp;fv;</span><br><span class="line">    fp2 = &amp;fv;</span><br><span class="line">    cout&lt;&lt;*fp1&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    FLOAT_POINTER FP1, FP2;</span><br><span class="line">    FP1 = &amp;fv;</span><br><span class="line">    FP2 = &amp;fv;</span><br><span class="line">    cout&lt;&lt;*FP1&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这段代码将报错</p>
<blockquote>
<p>main.cpp:18:9: error: cannot convert ‘float*’ to ‘float’ in assignment<br>
FP2 = &amp;fv;<br>
^</p>
</blockquote>
<p>可以看出，FP2的类型为float，而不是期望的float*</p>
<p>这是因为，预编译器仅仅是将FLOAT_POINTER 替换为 float *， 也就是说定义FP1，FP2时，是这样的：</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/03/25/typedef-define/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://datahonor.com/2017/03/22/%E5%88%A9%E7%94%A8Python%E8%A7%A3%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98-LP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/17157965?v=3&u=1787d5d04d50967c7825062bfff705ee584ae2b2&s=400">
      <meta itemprop="name" content="Mathew Shen">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DATA HONOR">
      <meta itemprop="description" content="十年饮冰，难凉热血。">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DATA HONOR">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/03/22/%E5%88%A9%E7%94%A8Python%E8%A7%A3%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98-LP/" class="post-title-link" itemprop="url">利用Python,Lingo, Octave解线性规划问题(LP)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-03-22 22:50:39" itemprop="dateCreated datePublished" datetime="2017-03-22T22:50:39+08:00">2017-03-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-03-13 12:35:03" itemprop="dateModified" datetime="2022-03-13T12:35:03+08:00">2022-03-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/2017/03/22/%E5%88%A9%E7%94%A8Python%E8%A7%A3%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98-LP/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/22/%E5%88%A9%E7%94%A8Python%E8%A7%A3%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98-LP/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h5 id="Overview-57">Overview</h5>
<p>新学期开了运筹学(OR)的课,最近学线性规划问题(LP)。老师建议说是用MATLAB 或者 LINGO，这里再加上Python,三种都试下，进行下比较。[懒的切换到windows系统了。。。用Octave代替Matlab了先。。。]</p>
<h5 id="Python求解-cvxopt">Python求解(cvxopt)</h5>
<p>这里用的库是cvxopt,之前解SVM的QP问题也用过，这里求解LP问题。<br>
这是文档的介绍：<br>
<img src="http://dataimage-1252464519.costj.myqcloud.com/images/Python/OR/LP1.png" alt></p>
<p>这里，我们主要看下在有无等式约束两种情况下的不同,其实也没差 :-）</p>
<h6 id="无等式约束">无等式约束</h6>
<p>$$ minimize     \quad   -4x_{1}-5x_{2}$$</p>
<p>$$<br>
subject \quad to<br>
\left{\begin{matrix}<br>
2x_{1} &amp; +x_{2} &amp; \leq 3\<br>
x_{1}&amp; +2x_{2} &amp; \leq 3\<br>
x_{1}&amp;,x_{2}&amp;\geq 0<br>
\end{matrix}\right.<br>
$$</p>
<p>实现代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> cvxopt <span class="keyword">import</span> matrix, solvers</span><br><span class="line"></span><br><span class="line">c = matrix([-<span class="number">4.</span>, -<span class="number">5.</span>])</span><br><span class="line">G = matrix([[<span class="number">2.</span>, <span class="number">1.</span>, -<span class="number">1.</span>, <span class="number">0.</span>], [<span class="number">1.</span>, <span class="number">2.</span>, <span class="number">0.</span>, -<span class="number">1.</span>]])</span><br><span class="line">h = matrix([<span class="number">3.</span>, <span class="number">3.</span>, <span class="number">0.</span>, <span class="number">0.</span>])</span><br><span class="line">sol = solvers.lp(c, G, h)</span><br><span class="line"><span class="built_in">print</span>(sol[<span class="string">&#x27;x&#x27;</span>])</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/03/22/%E5%88%A9%E7%94%A8Python%E8%A7%A3%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98-LP/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://datahonor.com/2017/03/19/Kaggle%E2%80%94%E2%80%94American-Pubs-Python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/17157965?v=3&u=1787d5d04d50967c7825062bfff705ee584ae2b2&s=400">
      <meta itemprop="name" content="Mathew Shen">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DATA HONOR">
      <meta itemprop="description" content="十年饮冰，难凉热血。">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DATA HONOR">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/03/19/Kaggle%E2%80%94%E2%80%94American-Pubs-Python/" class="post-title-link" itemprop="url">Kaggle——American Pubs[Python] </a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-03-19 11:15:45" itemprop="dateCreated datePublished" datetime="2017-03-19T11:15:45+08:00">2017-03-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-03-13 12:35:03" itemprop="dateModified" datetime="2022-03-13T12:35:03+08:00">2022-03-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/2017/03/19/Kaggle%E2%80%94%E2%80%94American-Pubs-Python/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/19/Kaggle%E2%80%94%E2%80%94American-Pubs-Python/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Kaggle案例学习——American Pubs [Python分析]<br>
源码[notebook形式]已经发布在此数据集的<a target="_blank" rel="noopener" href="https://www.kaggle.com/shenxiangzhuang/d/erikhambardzumyan/pubs/let-s-see">kernel</a>上，亦可在Kaggle上直接查看。[这次是原创~]<br>
这里仅记录下源码。<br>
数据集：</p>
<blockquote>
<p>Income - Your Approximate Monthly Income (in Armenian Dram)<br>
Fav_Pub - Which is your Favorite Pub?<br>
WTS -Maximum willingness to spend at the pub<br>
Freq - How often do you visit pubs?<br>
Prim_Imp - Which feature is of primary importantance for you?<br>
Sec_Imp - Which feature is of secondary importantance for you?<br>
Stratum - From which regional stratum are you?<br>
Lifestyle - What is your lifestyle?<br>
Occasions- On which occasions do you go to pubs most of the time?</p>
</blockquote>
<p>源码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np <span class="comment"># linear algebra</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd <span class="comment"># data processing, CSV file I/O (e.g. pd.read_csv)</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"></span><br><span class="line"><span class="comment"># machine learning</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"><span class="comment"># function to split the data for cross-validation</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC, LinearSVC</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># EDA</span></span><br><span class="line">data = pd.read_csv(<span class="string">&quot;/home/shen/PycharmProjects/MyPython/Kaggle/American Pubs/armenian_pubs.csv&quot;</span> )</span><br><span class="line">data.head()</span><br><span class="line"></span><br><span class="line">data.info()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=============================\n&#x27;</span>, data.notnull().<span class="built_in">sum</span>())</span><br><span class="line"></span><br><span class="line">columns = data.columns</span><br><span class="line"><span class="comment"># Notice that there are &#x27;Age &#x27;, &#x27;Gender &#x27;, &#x27;Income &#x27;, not &#x27;Age&#x27;, &#x27;Gender&#x27;, &#x27;Income&#x27;.</span></span><br><span class="line"><span class="comment"># In other words, we&#x27;d better remove the additional space.</span></span><br><span class="line">data.columns = [<span class="string">&#x27;Timestamp&#x27;</span>, <span class="string">&#x27;Age&#x27;</span>, <span class="string">&#x27;Gender&#x27;</span>, <span class="string">&#x27;Income&#x27;</span>, <span class="string">&#x27;Occupation&#x27;</span>, <span class="string">&#x27;Fav_Pub&#x27;</span>, <span class="string">&#x27;WTS&#x27;</span>, <span class="string">&#x27;Freq&#x27;</span>, <span class="string">&#x27;Prim_Imp&#x27;</span>, <span class="string">&#x27;Sec_Imp&#x27;</span>, <span class="string">&#x27;Stratum&#x27;</span>, <span class="string">&#x27;Lifestyle&#x27;</span>, <span class="string">&#x27;Occasions&#x27;</span>]</span><br><span class="line">columns = data.columns</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Age</span></span><br><span class="line">sns.countplot(<span class="string">&#x27;Age&#x27;</span>,data=data)</span><br><span class="line"><span class="comment"># Or we can use matplotlib</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Agedata = data[&#x27;Age&#x27;]</span></span><br><span class="line"><span class="string">Agebins = list(range(Agedata.min(), Agedata.max()))</span></span><br><span class="line"><span class="string">plt.hist(Agedata, bins=Agebins)</span></span><br><span class="line"><span class="string">plt.title(&#x27;Age&#x27;)</span></span><br><span class="line"><span class="string">plt.show()</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Gender</span></span><br><span class="line">sns.countplot(<span class="string">&#x27;Gender&#x27;</span>,data=data)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Income</span></span><br><span class="line">Incomedata = data[<span class="string">&#x27;Income&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(Incomedata.notnull().<span class="built_in">sum</span>())</span><br><span class="line"><span class="built_in">print</span>(Incomedata.describe())</span><br><span class="line">sns.boxplot(Incomedata)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Notice that there are some outliers, let&#x27;s remove them and plot them again for the detail</span></span><br><span class="line">Incomedata_cleaned = Incomedata[Incomedata &lt; <span class="number">1000000</span>]</span><br><span class="line">sns.boxplot(Incomedata_cleaned)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># The rest...yes, still countplot...I love it :)</span></span><br><span class="line">cols = [<span class="string">&#x27;Occupation&#x27;</span>, <span class="string">&#x27;Freq&#x27;</span>, <span class="string">&#x27;Prim_Imp&#x27;</span>, <span class="string">&#x27;Sec_Imp&#x27;</span>, <span class="string">&#x27;Stratum&#x27;</span>, <span class="string">&#x27;Lifestyle&#x27;</span>, <span class="string">&#x27;Occasions&#x27;</span>]</span><br><span class="line">fig = plt.figure(figsize=(<span class="number">12</span>,<span class="number">36</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(cols)):</span><br><span class="line">    fig.add_subplot(<span class="built_in">len</span>(cols),<span class="number">1</span>, i+<span class="number">1</span>)</span><br><span class="line">    sns.countplot(cols[i], data=data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Let&#x27;s try do some predict by training the data</span></span><br><span class="line"><span class="comment"># Try to transform str value to numeric value</span></span><br><span class="line"><span class="comment"># We&#x27;ll use the method as fellow to do this job</span></span><br><span class="line">le = preprocessing.LabelEncoder()</span><br><span class="line">le.fit(data[<span class="string">&#x27;Occupation&#x27;</span>].unique())</span><br><span class="line"><span class="built_in">print</span>(le.classes_)</span><br><span class="line">le.transform(data[<span class="string">&#x27;Occupation&#x27;</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">numcols = [<span class="string">&#x27;Age&#x27;</span>, <span class="string">&#x27;Income&#x27;</span>, <span class="string">&#x27;WTS&#x27;</span>]</span><br><span class="line">strcols = [<span class="string">&#x27;Gender&#x27;</span>, <span class="string">&#x27;Occupation&#x27;</span>, <span class="string">&#x27;Prim_Imp&#x27;</span>, <span class="string">&#x27;Sec_Imp&#x27;</span>, <span class="string">&#x27;Stratum&#x27;</span>, <span class="string">&#x27;Lifestyle&#x27;</span>,<span class="string">&#x27;Occasions&#x27;</span>,<span class="string">&#x27;Freq&#x27;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># numcols</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Classify the age</span></span><br><span class="line">Cdata = data.copy()</span><br><span class="line"></span><br><span class="line">Simplage = Cdata[<span class="string">&#x27;Age&#x27;</span>]</span><br><span class="line">fig.add_subplot(<span class="number">311</span>)</span><br><span class="line">sns.boxplot(Simplage)</span><br><span class="line">Simplage[Simplage &lt; <span class="number">18</span>] = <span class="number">0</span></span><br><span class="line">Simplage[(Simplage &gt;= <span class="number">18</span>) &amp; (Simplage &lt;<span class="number">23</span>)] = <span class="number">1</span></span><br><span class="line">Simplage[Simplage &gt;= <span class="number">23</span>] = <span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(Simplage.head())</span><br><span class="line"></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">12</span>,<span class="number">24</span>))</span><br><span class="line"><span class="comment"># Income</span></span><br><span class="line">Incomedata = Cdata[<span class="string">&#x27;Income&#x27;</span>]</span><br><span class="line"><span class="comment"># Many people are student with no income, so we use o to fill the missing value</span></span><br><span class="line">Simplincome = Incomedata.fillna(<span class="number">0.0</span>)</span><br><span class="line"><span class="comment">#print(&#x27;==============\n&#x27;, Simplincome.notnull().sum())</span></span><br><span class="line"><span class="built_in">print</span>(Simplincome.describe())</span><br><span class="line">fig.add_subplot(<span class="number">312</span>)</span><br><span class="line">sns.boxplot(Simplincome)</span><br><span class="line">Simplincome[Simplincome &lt;= <span class="number">2000</span>] = <span class="number">0</span></span><br><span class="line">Simplincome[(<span class="number">2000</span> &lt; Simplincome) &amp; (Simplincome &lt;= <span class="number">4000</span>)] = <span class="number">1</span></span><br><span class="line">Simplincome[(<span class="number">4000</span> &lt; Simplincome) &amp; (Simplincome &lt;= <span class="number">6000</span>)] = <span class="number">2</span></span><br><span class="line">Simplincome[Simplincome &gt; <span class="number">8000</span>] = <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(Simplincome.head())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Classify the WTS</span></span><br><span class="line">Simplwts = Cdata[<span class="string">&#x27;WTS&#x27;</span>]</span><br><span class="line"><span class="comment">#print(Simplwts.notnull().sum())</span></span><br><span class="line"><span class="comment"># fill these missing values</span></span><br><span class="line">fig.add_subplot(<span class="number">313</span>)</span><br><span class="line">sns.boxplot(<span class="string">&#x27;WTS&#x27;</span>, data=Cdata)</span><br><span class="line"></span><br><span class="line">Simplwts = Simplwts.fillna(<span class="number">5000</span>)</span><br><span class="line"><span class="comment">#print(Simplwts.notnull().sum())</span></span><br><span class="line"><span class="comment">#print(Simplwts.describe())</span></span><br><span class="line"><span class="comment"># Classify</span></span><br><span class="line">Simplwts[Simplwts &lt;= <span class="number">2000</span>] = <span class="number">0</span></span><br><span class="line">Simplwts[(<span class="number">2000</span> &lt; Simplwts) &amp; (Simplwts &lt;= <span class="number">4000</span>)] = <span class="number">1</span></span><br><span class="line">Simplwts[(<span class="number">4000</span> &lt; Simplwts) &amp; (Simplwts &lt;= <span class="number">6000</span>)] = <span class="number">2</span></span><br><span class="line">Simplwts[Simplwts &gt; <span class="number">8000</span>] = <span class="number">3</span></span><br><span class="line"><span class="comment">#print(Simplwts.head())</span></span><br><span class="line"></span><br><span class="line">newdata = pd.concat([Simplage, Simplincome, Simplwts], axis=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(newdata.head())</span><br><span class="line"><span class="built_in">print</span>(newdata.notnull().<span class="built_in">sum</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment"># str cols</span></span><br><span class="line"><span class="built_in">print</span>(Cdata.notnull().<span class="built_in">sum</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment"># fillna and label them</span></span><br><span class="line">ontodict = &#123;&#125;</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gettrans</span>(<span class="params">colname</span>):</span><br><span class="line">    coldata = Cdata[colname]</span><br><span class="line">    coldata = coldata.fillna(coldata.mode()[<span class="number">0</span>])  <span class="comment"># the [0] looks like indispensable</span></span><br><span class="line">    le = preprocessing.LabelEncoder()</span><br><span class="line">    le.fit(coldata.unique())</span><br><span class="line">    <span class="comment">#print(colname, &#x27;--&gt;&#x27;, le.classes_)</span></span><br><span class="line">    ontodict[colname] = le.classes_</span><br><span class="line">    newcoldata = le.transform(coldata)</span><br><span class="line">    newdata[colname] = newcoldata</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> colname <span class="keyword">in</span> strcols:</span><br><span class="line">    gettrans(colname)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(newdata.head())</span><br><span class="line"><span class="built_in">print</span>(newdata.notnull().<span class="built_in">sum</span>())</span><br><span class="line"><span class="built_in">print</span>(ontodict)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Let&#x27;s make Freq as the value that can be predicted by other values</span></span><br><span class="line">x = newdata[[<span class="string">&#x27;Age&#x27;</span>, <span class="string">&#x27;Income&#x27;</span>, <span class="string">&#x27;WTS&#x27;</span>, <span class="string">&#x27;Gender&#x27;</span>, <span class="string">&#x27;Occupation&#x27;</span>, <span class="string">&#x27;Prim_Imp&#x27;</span>, <span class="string">&#x27;Sec_Imp&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Stratum&#x27;</span>,<span class="string">&#x27;Lifestyle&#x27;</span>, <span class="string">&#x27;Occasions&#x27;</span>]]</span><br><span class="line">y = newdata[<span class="string">&#x27;Freq&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># split into train and test sets</span></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=<span class="number">0.2</span>)</span><br><span class="line"><span class="comment"># take a look at the shape of each of these</span></span><br><span class="line"><span class="built_in">print</span>(x_train.shape)</span><br><span class="line"><span class="built_in">print</span>(y_train.shape)</span><br><span class="line"><span class="built_in">print</span>(x_test.shape)</span><br><span class="line"><span class="built_in">print</span>(y_test.shape)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># predict</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Logistic Regression</span></span><br><span class="line">logreg = LogisticRegression()</span><br><span class="line">logreg.fit(x_train, y_train)</span><br><span class="line">Y_pred = logreg.predict(x_test)</span><br><span class="line">logreg.score(x_train, y_train)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># knn</span></span><br><span class="line">knn = KNeighborsClassifier(n_neighbors = <span class="number">3</span>)</span><br><span class="line">knn.fit(x_train, y_train)</span><br><span class="line">Y_pred = knn.predict(x_test)</span><br><span class="line">knn.score(x_train, y_train)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># SVM</span></span><br><span class="line">svc = SVC()</span><br><span class="line">svc.fit(x_train, y_train)</span><br><span class="line">Y_pred = svc.predict(x_test)</span><br><span class="line">svc.score(x_train, y_train)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Random Forests</span></span><br><span class="line">random_forest = RandomForestClassifier(n_estimators=<span class="number">50</span>)</span><br><span class="line">random_forest.fit(x_train, y_train)</span><br><span class="line">Y_pred = random_forest.predict(x_test)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">random_forest.score(x_train, y_train)</span><br><span class="line">random_forest.score(x_test, y_test)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/03/19/Kaggle%E2%80%94%E2%80%94American-Pubs-Python/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://datahonor.com/2017/03/16/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E5%85%A5%E9%97%A8%E7%BB%8F%E5%85%B8-%E7%B4%AB%E4%B9%A6-%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%89%E7%AB%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/17157965?v=3&u=1787d5d04d50967c7825062bfff705ee584ae2b2&s=400">
      <meta itemprop="name" content="Mathew Shen">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DATA HONOR">
      <meta itemprop="description" content="十年饮冰，难凉热血。">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DATA HONOR">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/03/16/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E5%85%A5%E9%97%A8%E7%BB%8F%E5%85%B8-%E7%B4%AB%E4%B9%A6-%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%89%E7%AB%A0/" class="post-title-link" itemprop="url">算法竞赛入门经典[紫书]习题笔记(第三章)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-03-16 01:14:35" itemprop="dateCreated datePublished" datetime="2017-03-16T01:14:35+08:00">2017-03-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-03-13 12:35:03" itemprop="dateModified" datetime="2022-03-13T12:35:03+08:00">2022-03-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Cpp/" itemprop="url" rel="index"><span itemprop="name">Cpp</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/2017/03/16/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E5%85%A5%E9%97%A8%E7%BB%8F%E5%85%B8-%E7%B4%AB%E4%B9%A6-%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%89%E7%AB%A0/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/16/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E5%85%A5%E9%97%A8%E7%BB%8F%E5%85%B8-%E7%B4%AB%E4%B9%A6-%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%89%E7%AB%A0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>紫书第三章习题代码及笔记。主要是想练习下c++的使用，有错误欢迎指出，有可以改进的地方请不吝赐教，多加交流。</p>
<h5 id="练习题">练习题</h5>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn 105</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//题目1--统计个数[不用数组]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;  <span class="comment">// count用于计数</span></span><br><span class="line">    <span class="type">float</span> num;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">&quot;%f&quot;</span>, &amp;num) == <span class="number">1</span>) &#123;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Nums: %d\n&quot;</span>, count);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//题目1--求最大值，最小值，均值[不用数组]</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">int main()&#123;</span></span><br><span class="line"><span class="comment">    int  count = 0;</span></span><br><span class="line"><span class="comment">    float num, sum=0, min_x, max_x;</span></span><br><span class="line"><span class="comment">    while ( scanf(&quot;%f&quot;, &amp;num) == 1)&#123;</span></span><br><span class="line"><span class="comment">        if(count == 0)&#123;min_x = max_x = num;&#125;</span></span><br><span class="line"><span class="comment">        if(num &gt; max_x) max_x = num;</span></span><br><span class="line"><span class="comment">        if(num &lt; min_x) min_x = num;</span></span><br><span class="line"><span class="comment">        sum += num;</span></span><br><span class="line"><span class="comment">        count++;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    printf(&quot;Max:%f Min:%f Ave:%f\n&quot;, max_x, min_x, sum/count);</span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 题目1--哪两个数最接近[数组]</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">int nums[maxn];</span></span><br><span class="line"><span class="comment">int main()&#123;</span></span><br><span class="line"><span class="comment">    int num, n = 0;</span></span><br><span class="line"><span class="comment">    while (scanf(&quot;%d&quot;, &amp;num) == 1) &#123;</span></span><br><span class="line"><span class="comment">        nums[n] = num;</span></span><br><span class="line"><span class="comment">        n++;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    int min_d = std::abs(nums[0]-nums[1]);</span></span><br><span class="line"><span class="comment">    for(int i=0;i&lt;n;i++)</span></span><br><span class="line"><span class="comment">        for(int j=0;j&lt;n;j++)&#123;</span></span><br><span class="line"><span class="comment">            if(j != i)&#123;</span></span><br><span class="line"><span class="comment">                if(std::abs(nums[i]-nums[j]) &lt; min_d) min_d = std::abs(nums[i]-nums[j]);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    printf(&quot;%d\n&quot;, min_d);</span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 题目1--第二大的数[数组]</span></span><br><span class="line"><span class="comment">//思路一：先获取数组最大值，在获取去除最大值后的数组，在求最大值</span></span><br><span class="line"><span class="comment">// 获取数组的最大值</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">float getmax(float arr[], int n);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">int main()&#123;</span></span><br><span class="line"><span class="comment">    float num, nums[maxn];</span></span><br><span class="line"><span class="comment">    int n=0;</span></span><br><span class="line"><span class="comment">    // 将输入的数字存入数组nums</span></span><br><span class="line"><span class="comment">    while (scanf(&quot;%f&quot;, &amp;num) == 1)&#123;</span></span><br><span class="line"><span class="comment">        nums[n] = num;</span></span><br><span class="line"><span class="comment">        n++;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    float max_x = getmax(nums, n);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    float newnums[maxn];</span></span><br><span class="line"><span class="comment">    int newn = 0;</span></span><br><span class="line"><span class="comment">    for(int i=0;i&lt;n;i++)&#123;</span></span><br><span class="line"><span class="comment">        if(nums[i] != max_x) &#123;</span></span><br><span class="line"><span class="comment">            newnums[newn] = nums[i];</span></span><br><span class="line"><span class="comment">            newn++;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    float sec_max_x = getmax(newnums, newn);</span></span><br><span class="line"><span class="comment">    printf(&quot;%f\n&quot;, sec_max_x);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">float getmax(float arr[], int n)&#123;</span></span><br><span class="line"><span class="comment">    float max_x_arr = arr[0];</span></span><br><span class="line"><span class="comment">    for(int i=1;i&lt;n;i++)&#123;</span></span><br><span class="line"><span class="comment">        if(arr[i] &gt; max_x_arr) max_x_arr = arr[i];</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    return max_x_arr;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 题目1--第二大的数[数组]</span></span><br><span class="line"><span class="comment">// 思路二：冒泡排序</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">void bubblesort(float A[], int n)&#123;</span></span><br><span class="line"><span class="comment">    bool sorted = false;  // 整体排序标志，首先假定尚未进行排序</span></span><br><span class="line"><span class="comment">    while(!sorted)&#123;  //在尚未确认已经全局排序之前，逐趟进行扫描交换</span></span><br><span class="line"><span class="comment">        sorted = true;  // 假定已经排序</span></span><br><span class="line"><span class="comment">        for (int i =1; i &lt; n; i++ )&#123;</span></span><br><span class="line"><span class="comment">            if (A[i - 1] &gt; A[i])&#123; // 一旦A[i-1]与A[i]逆序，则</span></span><br><span class="line"><span class="comment">                std::swap( A[i-1], A[i]); // 交换之</span></span><br><span class="line"><span class="comment">                sorted = false;// 因整体排序不能保证，需要清除排序标志</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">           n--;  // 至此末位元素必然就位， 故可以缩短排序序列的有效长度。</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#125;// 借助布尔值标志位sorted, 可以及时提前退出，而不至于总是忙里地做n-1次扫描</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">int main() &#123;</span></span><br><span class="line"><span class="comment">    float num, nums[maxn];</span></span><br><span class="line"><span class="comment">    int n = 0;</span></span><br><span class="line"><span class="comment">    // 将输入的数字存入数组nums</span></span><br><span class="line"><span class="comment">    while (scanf(&quot;%f&quot;, &amp;num) == 1) &#123;</span></span><br><span class="line"><span class="comment">        nums[n] = num;</span></span><br><span class="line"><span class="comment">        n++;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    bubblesort(nums, n);</span></span><br><span class="line"><span class="comment">    printf(&quot;%f\n&quot;, nums[n-2]);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 题目1--方差[数组]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//计算数组方差</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">float getvar(float arr[], int n);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">int main() &#123;</span></span><br><span class="line"><span class="comment">    float num, nums[maxn];</span></span><br><span class="line"><span class="comment">    int n = 0;</span></span><br><span class="line"><span class="comment">    // 将输入的数字存入数组nums</span></span><br><span class="line"><span class="comment">    while (scanf(&quot;%f&quot;, &amp;num) == 1) &#123;</span></span><br><span class="line"><span class="comment">        nums[n] = num;</span></span><br><span class="line"><span class="comment">        n++;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    float var = getvar(nums, n);</span></span><br><span class="line"><span class="comment">    printf(&quot;%f\n&quot;, var);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">float getvar(float arr[], int n)&#123;</span></span><br><span class="line"><span class="comment">    float sum = 0;</span></span><br><span class="line"><span class="comment">    for(int i=0;i&lt;n;i++)</span></span><br><span class="line"><span class="comment">        sum += arr[i];</span></span><br><span class="line"><span class="comment">    float ave = sum/n;</span></span><br><span class="line"><span class="comment">    float p_var;</span></span><br><span class="line"><span class="comment">    for (int i = 0; i &lt; n; i++) &#123;</span></span><br><span class="line"><span class="comment">        p_var += (arr[i]-ave)*(arr[i]-ave);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    float var = p_var/(n-1);</span></span><br><span class="line"><span class="comment">    return var;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 题目1--不超过平均数的数字个数[数组]</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">int main() &#123;</span></span><br><span class="line"><span class="comment">    float num, nums[maxn], sum=0;</span></span><br><span class="line"><span class="comment">    int n = 0;</span></span><br><span class="line"><span class="comment">    // 将输入的数字存入数组nums</span></span><br><span class="line"><span class="comment">    while (scanf(&quot;%f&quot;, &amp;num) == 1) &#123;</span></span><br><span class="line"><span class="comment">        sum += num;</span></span><br><span class="line"><span class="comment">        nums[n] = num;</span></span><br><span class="line"><span class="comment">        n++;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    float ave = sum/n;</span></span><br><span class="line"><span class="comment">    int nx = 0;</span></span><br><span class="line"><span class="comment">    for(int i=0;i&lt;n;i++)&#123;</span></span><br><span class="line"><span class="comment">        if(nums[i] &lt;= ave) nx += 1;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    printf(&quot;%d\n&quot;, nx);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="OJ练习">OJ练习</h5>
<ul>
<li>[ ] UVa 1585</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;curses.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn 85</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> s[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, s);</span><br><span class="line">        <span class="type">int</span> n = <span class="built_in">strlen</span>(s);</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">            <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(s[i] == <span class="string">&#x27;O&#x27;</span>)&#123;</span><br><span class="line">                count += <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j=(i<span class="number">-1</span>);j&gt;=<span class="number">0</span>;j--)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(s[j] == <span class="string">&#x27;X&#x27;</span>) <span class="keyword">break</span>;</span><br><span class="line">                    count += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            sum += count;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, sum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>[ ] UVa 1586</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;curses.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn 85</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> const_s[] = <span class="string">&quot;CHON&quot;</span>;</span><br><span class="line">    <span class="type">float</span> const_num[<span class="number">4</span>] = &#123;<span class="number">12.01</span>, <span class="number">1.008</span>, <span class="number">16.00</span>, <span class="number">14.01</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">float</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="type">char</span> s[maxn];</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, s);</span><br><span class="line">        <span class="type">int</span> len = <span class="built_in">strlen</span>(s);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="built_in">isalpha</span>(s[j])) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> m=<span class="number">0</span>; m&lt;<span class="number">4</span>; m++)</span><br><span class="line">                <span class="keyword">if</span>(s[j] == const_s[m])&#123;</span><br><span class="line">                    sum += const_num[m];</span><br><span class="line">                    <span class="keyword">if</span>((j+<span class="number">1</span>)&lt; len &amp;&amp; !<span class="built_in">isalpha</span>(s[j+<span class="number">1</span>]))&#123;</span><br><span class="line">                        <span class="keyword">if</span>((j+<span class="number">2</span>)&lt; len &amp;&amp; !<span class="built_in">isalpha</span>(s[j+<span class="number">2</span>])) sum += const_num[m]*((<span class="built_in">int</span>(s[j+<span class="number">1</span>])<span class="number">-48</span>)*<span class="number">10</span>+<span class="built_in">int</span>(s[j+<span class="number">2</span>])<span class="number">-48</span><span class="number">-1</span>);</span><br><span class="line">                        <span class="keyword">else</span> sum += const_num[m]*(<span class="built_in">int</span>(s[j+<span class="number">1</span>])<span class="number">-48</span><span class="number">-1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%.3f\n&quot;</span>, sum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>[ ] UVa 1225</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;curses.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// sprintf is the key to solve the problem.</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"># define maxn 10005</span></span><br><span class="line"><span class="comment">int main() &#123;</span></span><br><span class="line"><span class="comment">    int n;</span></span><br><span class="line"><span class="comment">    scanf(&quot;%d&quot;, &amp;n);</span></span><br><span class="line"><span class="comment">    for (int i = 0; i &lt; n; i++) &#123;</span></span><br><span class="line"><span class="comment">        int nums[10], nx;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        memset(nums, 0, sizeof(nums));</span></span><br><span class="line"><span class="comment">        scanf(&quot;%d&quot;, &amp;nx);</span></span><br><span class="line"><span class="comment">        char strnum[maxn];</span></span><br><span class="line"><span class="comment">        for (int j = 1; j &lt;=nx; j++) &#123;</span></span><br><span class="line"><span class="comment">            sprintf(strnum, &quot;%d&quot;, j);</span></span><br><span class="line"><span class="comment">            for (int k = 0; k &lt; strlen(strnum); k++) &#123;</span></span><br><span class="line"><span class="comment">                for (int l = 0; l &lt;= 9; l++) &#123;</span></span><br><span class="line"><span class="comment">                    if((int(strnum[k])-48) == l) nums[l] += 1;</span></span><br><span class="line"><span class="comment">                &#125;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        for (int m = 0; m &lt; 9; m++) &#123;</span></span><br><span class="line"><span class="comment">            printf(&quot;%d &quot;, nums[m]);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        printf(&quot;%d\n&quot;, nums[9]);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/03/16/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E5%85%A5%E9%97%A8%E7%BB%8F%E5%85%B8-%E7%B4%AB%E4%B9%A6-%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%89%E7%AB%A0/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://datahonor.com/2017/03/13/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E5%85%A5%E9%97%A8%E7%BB%8F%E5%85%B8-%E7%B4%AB%E4%B9%A6-%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/17157965?v=3&u=1787d5d04d50967c7825062bfff705ee584ae2b2&s=400">
      <meta itemprop="name" content="Mathew Shen">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DATA HONOR">
      <meta itemprop="description" content="十年饮冰，难凉热血。">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DATA HONOR">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/03/13/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E5%85%A5%E9%97%A8%E7%BB%8F%E5%85%B8-%E7%B4%AB%E4%B9%A6-%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">算法竞赛入门经典[紫书]习题笔记(第二章)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-03-13 12:18:22" itemprop="dateCreated datePublished" datetime="2017-03-13T12:18:22+08:00">2017-03-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-03-13 12:35:03" itemprop="dateModified" datetime="2022-03-13T12:35:03+08:00">2022-03-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Cpp/" itemprop="url" rel="index"><span itemprop="name">Cpp</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/2017/03/13/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E5%85%A5%E9%97%A8%E7%BB%8F%E5%85%B8-%E7%B4%AB%E4%B9%A6-%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/13/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E5%85%A5%E9%97%A8%E7%BB%8F%E5%85%B8-%E7%B4%AB%E4%B9%A6-%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>紫书第二章习题代码及笔记。主要是想练习下c++的使用，这里纯粹作为记录，有错误欢迎指出，多加交流。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;pwd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 水仙花</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a, b, c;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">100</span>; i&lt;=<span class="number">999</span>;i++)&#123;</span><br><span class="line">        a = i / <span class="number">100</span>;</span><br><span class="line">        b = (i % <span class="number">100</span>)/<span class="number">10</span>;</span><br><span class="line">        c = (i % <span class="number">100</span>)%<span class="number">10</span>;</span><br><span class="line">        <span class="keyword">if</span>((<span class="built_in">pow</span>(a,<span class="number">3</span>)+<span class="built_in">pow</span>(b,<span class="number">3</span>)+<span class="built_in">pow</span>(c,<span class="number">3</span>)) == i)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 韩信点兵</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">int main()&#123;</span></span><br><span class="line"><span class="comment">    int a, b, c, n=1;</span></span><br><span class="line"><span class="comment">    while(scanf(&quot;%d %d %d&quot;, &amp;a, &amp;b, &amp;c) == 3)&#123;</span></span><br><span class="line"><span class="comment">        int get = 0;</span></span><br><span class="line"><span class="comment">        for(int i=10;i&lt;=100; i++ )&#123;</span></span><br><span class="line"><span class="comment">            if((i%3==a)&amp;&amp;(i%5==b)&amp;&amp;(i%7==c))</span></span><br><span class="line"><span class="comment">            &#123;</span></span><br><span class="line"><span class="comment">                get = 1;</span></span><br><span class="line"><span class="comment">                printf(&quot;Case %d: %d\n&quot;, n, i);</span></span><br><span class="line"><span class="comment">                break;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        if(get == 0) printf(&quot;Case %d: %s\n&quot;, n, &quot;No answer&quot;);</span></span><br><span class="line"><span class="comment">    n++;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 倒三角形</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">int main()&#123;</span></span><br><span class="line"><span class="comment">    int n;</span></span><br><span class="line"><span class="comment">    scanf(&quot;%d&quot;, &amp;n);</span></span><br><span class="line"><span class="comment">    int a=n, b=0;  // a控制#的数量， 把控制前后空格的数量</span></span><br><span class="line"><span class="comment">    do&#123;</span></span><br><span class="line"><span class="comment">        for(int j=1;j&lt;=b; j++)</span></span><br><span class="line"><span class="comment">            printf(&quot;%s&quot;, &quot; &quot;);</span></span><br><span class="line"><span class="comment">        for(int i=1; i&lt;=2*a-1;i++ )</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            printf(&quot;%s&quot;, &quot;#&quot;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        for(int j=1;j&lt;=b; j++)</span></span><br><span class="line"><span class="comment">            printf(&quot;%s&quot;, &quot; &quot;);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        a -= 1;</span></span><br><span class="line"><span class="comment">        b++;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        printf(&quot;\n&quot;);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    &#125;while ((a&gt;=1)&amp;&amp;(a&lt;=20));</span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 子序列的和</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">int main()&#123;</span></span><br><span class="line"><span class="comment">    int n, m, num=0;</span></span><br><span class="line"><span class="comment">    while ((scanf(&quot;%d %d&quot;, &amp;n, &amp;m) == 2)&amp;&amp;m&amp;&amp;n)&#123;</span></span><br><span class="line"><span class="comment">        num += 1;</span></span><br><span class="line"><span class="comment">        float r=0.0;</span></span><br><span class="line"><span class="comment">        for(float i=n; i&lt;=m; i++)&#123;</span></span><br><span class="line"><span class="comment">            r += 1 / (i*i);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        printf(&quot;Case %d: %.5f\n&quot;, num, r);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 分数化小数</span></span><br><span class="line"><span class="comment">// 偷懒~</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">int main()&#123;</span></span><br><span class="line"><span class="comment">    int a, b ,c;</span></span><br><span class="line"><span class="comment">    while (scanf(&quot;%d %d %d&quot;, &amp;a, &amp;b, &amp;c))&#123;</span></span><br><span class="line"><span class="comment">        float r;</span></span><br><span class="line"><span class="comment">        r = a/((float) b);</span></span><br><span class="line"><span class="comment">        std::cout&lt;&lt;std::setprecision(c)&lt;&lt;std::fixed&lt;&lt;r&lt;&lt;&quot;\n&quot;;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 排列</span></span><br><span class="line"><span class="comment">// 不会...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//思考题2</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">int main()&#123;</span></span><br><span class="line"><span class="comment">    double i;</span></span><br><span class="line"><span class="comment">//    freopen(&quot;output.txt&quot;, &quot;w&quot;, stdout);</span></span><br><span class="line"><span class="comment">    for(i=0; i != 10; i += 0.1)&#123;</span></span><br><span class="line"><span class="comment">        printf(&quot;%.1f\n&quot;, i);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>最后的思考题，原因在与10.0属于float, 不等于10[int]，所以会一直输出打印的内容，但开始并未出现0.1,0.2,…等的递增的情况，debug发现没有问题，最后发现原因是输出太多内容，将上面的内容掩盖，通过写入文件后再查看，发现打印还是正常的。</p>

          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/03/13/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E5%85%A5%E9%97%A8%E7%BB%8F%E5%85%B8-%E7%B4%AB%E4%B9%A6-%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://datahonor.com/2017/03/08/Ubuntu16-04LTS%E4%B8%8B%E5%AE%89%E8%A3%85Hadoop2-7-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/17157965?v=3&u=1787d5d04d50967c7825062bfff705ee584ae2b2&s=400">
      <meta itemprop="name" content="Mathew Shen">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DATA HONOR">
      <meta itemprop="description" content="十年饮冰，难凉热血。">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DATA HONOR">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/03/08/Ubuntu16-04LTS%E4%B8%8B%E5%AE%89%E8%A3%85Hadoop2-7-3/" class="post-title-link" itemprop="url">Ubuntu16.04LTS下安装Hadoop&Spark</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-03-08 23:44:44" itemprop="dateCreated datePublished" datetime="2017-03-08T23:44:44+08:00">2017-03-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-03-13 12:35:03" itemprop="dateModified" datetime="2022-03-13T12:35:03+08:00">2022-03-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Hadoop/" itemprop="url" rel="index"><span itemprop="name">Hadoop</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/2017/03/08/Ubuntu16-04LTS%E4%B8%8B%E5%AE%89%E8%A3%85Hadoop2-7-3/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/08/Ubuntu16-04LTS%E4%B8%8B%E5%AE%89%E8%A3%85Hadoop2-7-3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="1-安装Hadoop2-7-3">1. 安装Hadoop2.7.3</h3>
<blockquote>
<p>写的比较早，可能已经不可行，仅供参考，3.0以上新版的安装在后面。</p>
</blockquote>
<p>主要就是参考<a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/how-to-install-hadoop-in-stand-alone-mode-on-ubuntu-16-04">digitalocean</a>的这篇教程，写的十分详细，这里不再赘述。要注意的一点就是在<em>Step 3 — Configuring Hadoop’s Java Home</em>这里，按照教程上的方法找到JAVA的路径再设置，两种方法均可以运行Hadoop，但是在后面运行MapReduce时却总是报错：</p>
<blockquote>
<p>/usr/local/hadoop/bin/hadoop: line 166: /usr/bin/java: No such file or directory</p>
</blockquote>
<p>好象是JAVA的路径不对，之前设置的是</p>
<blockquote>
<p>export JAVA_HOME=/usr/</p>
</blockquote>
<p>就重新找到JAVA的安装路径，设置为</p>
<blockquote>
<p>export JAVA_HOME=/usr/jdk-8/jre/</p>
</blockquote>
<p>然后就可以了。<br>
装好了，之后忙完这阵，就先学个入门: - )</p>
<h3 id="2-安装Hadoop3-Spark">2. 安装Hadoop3&amp;Spark</h3>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/03/08/Ubuntu16-04LTS%E4%B8%8B%E5%AE%89%E8%A3%85Hadoop2-7-3/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://datahonor.com/2017/03/06/Numpy%E6%97%A5%E5%B8%B8%E7%A7%AF%E7%B4%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/17157965?v=3&u=1787d5d04d50967c7825062bfff705ee584ae2b2&s=400">
      <meta itemprop="name" content="Mathew Shen">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DATA HONOR">
      <meta itemprop="description" content="十年饮冰，难凉热血。">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DATA HONOR">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/03/06/Numpy%E6%97%A5%E5%B8%B8%E7%A7%AF%E7%B4%AF/" class="post-title-link" itemprop="url">Numpy日常积累</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-03-06 19:42:27" itemprop="dateCreated datePublished" datetime="2017-03-06T19:42:27+08:00">2017-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-03-13 12:35:03" itemprop="dateModified" datetime="2022-03-13T12:35:03+08:00">2022-03-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/2017/03/06/Numpy%E6%97%A5%E5%B8%B8%E7%A7%AF%E7%B4%AF/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/06/Numpy%E6%97%A5%E5%B8%B8%E7%A7%AF%E7%B4%AF/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>阅读书籍 <em>NumPy Beginner’s Guide [Second Edition]</em>，一些关于使用Numpy的笔记。</p>
<h5 id="1-ravel-and-flatten">1. ravel and flatten</h5>
<blockquote>
<p>参考<a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/28930465/what-is-the-difference-between-flatten-and-ravel-functions-in-numpy">这里</a></p>
<p>The difference is that flatten always returns a copy and ravel returns a view of the original array whenever possible. This isn’t visible in the printed output, but if you modify the array returned by ravel, it may modify the entries in the original array. If you modify the entries in an array returned from flatten this will never happen. ravel will often be faster since no memory is copied, but you have to be more careful about modifying the array it returns.</p>
</blockquote>
<p><img src="http://dataimage-1252464519.costj.myqcloud.com/images/numpy/3.png" alt></p>
<h5 id="2-reshape-and-resize">2. reshape and resize</h5>
<blockquote>
<p>The resize method works just like the reshape method, but modifies the<br>
array it operates on</p>
</blockquote>
<blockquote>
<p>即，resize改变操作的对象，而reshape不改变。</p>
</blockquote>
<h5 id="3-Dates">3. Dates</h5>
<p>关于np.loadtxt函数导入日期的问题。</p>
<h6 id="3-1-converters">3.1 converters</h6>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/03/06/Numpy%E6%97%A5%E5%B8%B8%E7%A7%AF%E7%B4%AF/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://datahonor.com/2017/03/06/Python%E6%97%A5%E5%B8%B8%E7%A7%AF%E7%B4%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/17157965?v=3&u=1787d5d04d50967c7825062bfff705ee584ae2b2&s=400">
      <meta itemprop="name" content="Mathew Shen">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DATA HONOR">
      <meta itemprop="description" content="十年饮冰，难凉热血。">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DATA HONOR">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/03/06/Python%E6%97%A5%E5%B8%B8%E7%A7%AF%E7%B4%AF/" class="post-title-link" itemprop="url">Python日常积累</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-03-06 19:37:57" itemprop="dateCreated datePublished" datetime="2017-03-06T19:37:57+08:00">2017-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-03-13 12:35:03" itemprop="dateModified" datetime="2022-03-13T12:35:03+08:00">2022-03-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/2017/03/06/Python%E6%97%A5%E5%B8%B8%E7%A7%AF%E7%B4%AF/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/06/Python%E6%97%A5%E5%B8%B8%E7%A7%AF%E7%B4%AF/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h5 id="1-copy-deepcopy">1.copy &amp; deepcopy</h5>
<p>参考<a target="_blank" rel="noopener" href="http://www.cnblogs.com/Richardzhu/p/4723750.html">这里</a><br>
<img src="http://dataimage-1252464519.costj.myqcloud.com/images/Python/copy.png" alt></p>

          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/03/06/Python%E6%97%A5%E5%B8%B8%E7%A7%AF%E7%B4%AF/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/archives/page/13/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/archives/">1</a><span class="space">&hellip;</span><a class="page-number" href="/archives/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/archives/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/archives/page/18/">18</a><a class="extend next" rel="next" href="/archives/page/15/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2017 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mathew Shen</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>




<script class="next-config" data-name="valine" type="application/json">{"enable":true,"appId":"qzF75hQvs6yPkMIO7gd7LwDB-gzGzoHsz","appKey":"foULNoeGLTL8LE8C2Ysitv5I","serverURLs":["datahonor.com"],"placeholder":"毕竟今天太阳那么好~(评论时留下邮箱才能收到回复提醒的邮件哦)","avatar":"","meta":["nick","mail","link"],"pageSize":10,"lang":null,"visitor":false,"comment_count":true,"recordIP":true,"enableQQ":true,"requiredFields":["nick"],"notify":true,"el":"#valine-comments","path":"/archives/page/14/"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.valine.el)
    .then(() => NexT.utils.getScript(
      'https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js',
      { condition: window.Valine }
    ))
    .then(() => {
      new Valine(CONFIG.valine);
    });
});
</script>

</body>
</html>
